<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dérive</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; }
    header { background: #111; color: white; padding: 1rem; display: flex; justify-content: space-between; align-items: center; }
    nav a { color: white; margin: 0 1rem; text-decoration: none; cursor: pointer; }
    nav a:hover { text-decoration: underline; }

    section { padding: 2rem; display: none; }
    section.active { display: block; }

    /* Carrusel */
    .carousel { position: relative; max-width: 100%; overflow: hidden; }
    .carousel-container { display: flex; transition: transform 0.5s ease-in-out; }
    .carousel-slide { min-width: 100%; }
    .carousel-slide img { width: 100%; height: auto; display: block; }
    .carousel-btn { position: absolute; top: 50%; transform: translateY(-50%); background: rgba(0,0,0,0.5); color: white; border: none; font-size: 2rem; cursor: pointer; padding: 0.5rem 1rem; }
    .carousel-btn.prev { left: 10px; }
    .carousel-btn.next { right: 10px; }

    /* Productos */
    .products { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; }
    .product { border: 1px solid #ccc; padding: 1rem; text-align: center; cursor: pointer; }
    .product img { width: 100%; height: auto; }

    /* Vista detalle */
    #productDetail { display: none; padding: 2rem; }
    #productDetail img { width: 300px; height: auto; display: block; margin: auto; }
    .sizes button { margin: 0.5rem; padding: 0.5rem 1rem; }

    /* Carrito */
    .cart-item { display: flex; justify-content: space-between; margin: 0.5rem 0; border-bottom: 1px solid #ccc; padding-bottom: 0.5rem; }
    .remove-btn { background: red; color: white; border: none; padding: 0.2rem 0.5rem; cursor: pointer; }

    /* Redes sociales */
    .socials { margin-top: 1.5rem; text-align: center; }
    .socials a { margin: 0 10px; display: inline-block; }
    .socials img { width: 40px; height: 40px; }
  </style>
</head>
<body>
  <header>
    <h1>Dérive</h1>
    <nav>
      <a onclick="showSection('inicio')">Inicio</a>
      <a onclick="showSection('productos')">Productos</a>
      <a onclick="showSection('carrito')">Carrito</a>
    </nav>
  </header>

  <main>
    <!-- Inicio con carrusel y redes -->
    <section id="inicio" class="active">
      <div class="carousel">
        <div class="carousel-container">
          <div class="carousel-slide"><img src="img/inicio1.jpg"></div>
          <div class="carousel-slide"><img src="img/inicio2.jpg"></div>
          <div class="carousel-slide"><img src="img/inicio3.jpg"></div>
          <div class="carousel-slide"><img src="img/inicio4.jpg"></div>
          <div class="carousel-slide"><img src="img/inicio5.jpg"></div>
          <div class="carousel-slide"><img src="img/inicio6.jpg"></div>
          <div class="carousel-slide"><img src="img/inicio7.jpg"></div>
          <div class="carousel-slide"><img src="img/inicio8.jpg"></div>
          <div class="carousel-slide"><img src="img/inicio9.jpg"></div>
          <div class="carousel-slide"><img src="img/inicio10.jpg"></div>
          <div class="carousel-slide"><img src="img/inicio11.jpg"></div>
          <div class="carousel-slide"><img src="img/inicio12.jpg"></div>
          <div class="carousel-slide"><img src="img/inicio13.jpg"></div>
          <div class="carousel-slide"><img src="img/inicio14.jpg"></div>
        </div>
        <button class="carousel-btn prev" onclick="moveSlide(-1)">&#10094;</button>
        <button class="carousel-btn next" onclick="moveSlide(1)">&#10095;</button>
      </div>
      <div class="socials">
        <a href="https://www.tiktok.com/@derive" target="_blank"><img src="img/tiktok.png" alt="TikTok"></a>
        <a href="https://www.instagram.com/derive" target="_blank"><img src="img/instagram.png" alt="Instagram"></a>
      </div>
    </section>

    <!-- Productos -->
    <section id="productos">
      <h2>Productos</h2>
      <div class="products" id="productsGrid"></div>
    </section>

    <!-- Vista detalle -->
    <section id="productDetail">
      <button onclick="backToProducts()">← Volver</button>
      <h2 id="detailName"></h2>
      <div id="detailImages"></div>
      <div class="sizes" id="detailSizes"></div>
      <button onclick="addToCart()">Añadir al carrito</button>
    </section>

    <!-- Carrito -->
    <section id="carrito">
      <h2>Carrito</h2>
      <div id="cartPage"></div>
      <button onclick="checkout()">Realizar pago</button>
    </section>
  </main>

  <script>
    let currentSlide = 0;
    let products = [
      { name: "Drift into Adventure", images:["img/drift1.jpg","img/drift2.jpg","img/drift3.jpg","img/drift4.jpg"], links:{s:"https://express.culqi.com/pago/4XR759TFKR",m:"https://express.culqi.com/pago/8TH3QXWLNK",l:"https://express.culqi.com/pago/OC166GW63C"} },
      { name: "True Style", images:["img/true1.jpg","img/true2.jpg","img/true3.jpg","img/true4.jpg"], links:{s:"https://express.culqi.com/pago/QFPW93XY8O",m:"https://express.culqi.com/pago/EUG6FWG6G8",l:"https://express.culqi.com/pago/10BIBI0YXF"} },
      { name: "Strive for the Future", images:["img/strive1.jpg","img/strive2.jpg","img/strive3.jpg"], links:{s:"https://express.culqi.com/pago/Z7WU1QZM5G",m:"https://express.culqi.com/pago/C8FFVNC1MY",l:"https://express.culqi.com/pago/AR0YFZMUX2"} },
      { name: "Boundless Style", images:["img/boundless1.jpg","img/boundless2.jpg","img/boundless3.jpg","img/boundless4.jpg"], links:{s:"https://express.culqi.com/pago/F7E5CGA5JY",m:"https://express.culqi.com/pago/UUHHRQZSYM",l:"https://express.culqi.com/pago/HCFOKDYRCM"} },
      { name: "Pisco Sour", images:["img/pisco1.jpg","img/pisco2.jpg","img/pisco3.jpg","img/pisco4.jpg"], links:{s:"https://express.culqi.com/pago/QC4GCS9NIP",m:"https://express.culqi.com/pago/NKQT58SKAV",l:"https://express.culqi.com/pago/9SOBG18T5U"} }
    ];
    let cart = [];
    let selectedProduct = null;
    let selectedSize = null;

    // Carrusel
    function showSlide(index) {
      const slides = document.querySelectorAll('.carousel-slide');
      if (index >= slides.length) currentSlide = 0;
      else if (index < 0) currentSlide = slides.length - 1;
      else currentSlide = index;
      document.querySelector('.carousel-container').style.transform = `translateX(-${currentSlide * 100}%)`;
    }
    function moveSlide(n) { showSlide(currentSlide + n); }
    document.addEventListener("DOMContentLoaded", ()=>{ showSlide(0); renderProducts(); });

    // Navegación
    function showSection(id) {
      document.querySelectorAll("main section").forEach(s=>s.classList.remove("active"));
      document.getElementById(id).classList.add("active");
    }

    // Render productos
    function renderProducts() {
      const grid = document.getElementById("productsGrid");
      grid.innerHTML = "";
      products.forEach((p,i)=>{
        const div = document.createElement("div");
        div.className="product";
        div.innerHTML = `<img src="${p.images[0]}" alt="${p.name}"><h3>${p.name}</h3>`;
        div.onclick = ()=>showDetail(i);
        grid.appendChild(div);
      });
    }

    // Vista detalle
    function showDetail(i) {
      selectedProduct = products[i];
      selectedSize = null;
      document.getElementById("detailName").innerText = selectedProduct.name;
      document.getElementById("detailImages").innerHTML = selectedProduct.images.map(img=>`<img src="${img}" alt="">`).join("");
      document.getElementById("detailSizes").innerHTML = ["s","m","l"].map(size=>`<button onclick="selectSize('${size}')">${size.toUpperCase()}</button>`).join("");
      showSection("productDetail");
    }
    function backToProducts() { showSection("productos"); }
    function selectSize(size) { selectedSize=size; alert("Talla seleccionada: "+size.toUpperCase()); }
    function addToCart() {
      if(!selectedSize) { alert("Selecciona una talla"); return; }
      cart.push({product:selectedProduct, size:selectedSize});
      alert("Producto añadido al carrito");
    }

    // Carrito
    function renderCart() {
      const cartPage = document.getElementById("cartPage");
      cartPage.innerHTML = "";
      cart.forEach((item,i)=>{
        const div=document.createElement("div");
        div.className="cart-item";
        div.innerHTML=`${item.product.name} - Talla ${item.size.toUpperCase()} 
          <button class="remove-btn" onclick="removeFromCart(${i})">X</button>`;
        cartPage.appendChild(div);
      });
    }
    function removeFromCart(i){ cart.splice(i,1); renderCart(); }

    // Checkout
    function checkout() {
      if(cart.length===0){ alert("Tu carrito está vacío"); return; }
      cart.forEach(item=>{ window.open(item.product.links[item.size],'_blank'); });
    }

    // Mostrar carrito siempre actualizado
    document.querySelector("a[onclick=\"showSection('carrito')\"]").addEventListener("click",renderCart);
  </script>
</body>
</html>
